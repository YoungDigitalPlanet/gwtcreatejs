(function(m){function c(){this.init()}function z(a,e){this.init(a,e)}function C(a,e,k,u){this.init(a,e,k,u)}c.capabilities=null;c.BASE_PATH="src/soundjs";c.lastId=0;c.preloadId=0;c.isSupported=function(){if(SoundJS.BrowserDetect.isIOS)return false;c.generateCapabilities();return swfobject==null?false:swfobject.hasFlashPlayerVersion("9.0.0")};c.generateCapabilities=function(){if(c.capabilities==null)c.capabilities={panning:true,volume:true,mp3:true,ogg:false,mpeg:true,wav:true,channels:255}};c.prototype=
{CONTAINER_ID:"flashAudioContainer",capabilities:null,container:null,flash:null,flashReady:false,flashInstances:null,flashPreloadInstances:null,queuedInstances:null,init:function(){this.capabilities=c.capabilities;this.flashInstances={};this.flashPreloadInstances={};this.queuedInstances=[];var a=this.container=document.createElement("div");a.id=this.CONTAINER_ID;a.appendChild(document.createTextNode("Default Content Here"));document.body.appendChild(a);swfobject.embedSWF(c.BASE_PATH+"FlashAudioPlugin.swf",
this.CONTAINER_ID,"1","1","9.0.0",null,null,null,null,SoundJS.proxy(this.handleSWFReady,this))},handleSWFReady:function(a){this.flash=a.ref;this.loadTimeout=setTimeout(function(){SoundJS.proxy(this.handleTimeout,this)},2E3)},handleFlashReady:function(){this.flashReady=true;for(var a=0,e=this.queuedInstances.length;a<e;a++)this.flash.register(this.queuedInstances[a]);this.queuedInstances=null;for(var k in this.flashPreloadInstances)this.flashPreloadInstances[k].initialize(this.flash);for(k in this.flashInstances)this.flashInstances[k].initialize(this.flash)},
handleTimeout:function(){},register:function(a){this.flashReady?this.flash.register(a):this.queuedInstances.push(a);var e="p"+c.preloadId++;return new C(a,this.flash,this,e)},create:function(a){try{var e=new z(a,this.flash);e.owner=this;return e}catch(k){}return null},registerPreloadInstance:function(a,e){this.flashPreloadInstances[a]=e},unregisterPreloadInstance:function(a){delete this.flashPreloadInstances[a]},registerSoundInstance:function(a,e){this.flashInstances[a]=e},unregisterSoundInstance:function(a){delete this.flashInstances[a]},
handleSoundEvent:function(a,e){var k=this.flashInstances[a];if(k!=null){for(var u=[],c=2,q=arguments.length;c<q;c++)u.push(arguments[c]);try{if(u.length==0)k[e]();else k[e].apply(k,u)}catch(m){}}},handlePreloadEvent:function(a,e){var k=this.flashPreloadInstances[a];if(k!=null){for(var c=[],m=2,q=arguments.length;m<q;m++)c.push(arguments[m]);try{if(c.length==0)k[e]();else k[e].apply(k,c)}catch(z){}}},handleEvent:function(a){switch(a){case "ready":clearTimeout(this.loadTimeout),this.handleFlashReady()}},
handleErrorEvent:function(){},toString:function(){return"[FlashPlugin]"}};m.SoundJS.FlashPlugin=c;z.prototype={src:null,uniqueId:-1,capabilities:null,flash:null,flashId:null,loop:0,volume:1,pan:0,muted:false,paused:false,onComplete:null,onLoop:null,onReady:null,onPlayFailed:null,onPlayInterrupted:null,init:function(a,e){this.uniqueId=c.lastId++;this.src=a;this.flash=e},initialize:function(a){this.flash=a},interrupt:function(){this.playState=SoundJS.PLAY_INTERRUPTED;if(this.onPlayInterrupted!=null)this.onPlayInterrupted(this);
this.flash.interrupt(this.flashId);this.cleanUp()},cleanUp:function(){this.owner.unregisterSoundInstance(this.flashId);SoundJS.playFinished(this)},play:function(a,e,c,u,m,q){SoundJS.playInstance(this,a,e,c,u,m,q)},beginPlaying:function(a,e,c,m){this.loop=e;this.paused=false;this.flashId=this.flash.playSound(this.src,a,e,c,m);if(this.flashId==null){if(this.onPlayFailed!=null)this.onPlayFailed(this);this.cleanUp();return false}this.playState=SoundJS.PLAY_SUCCEEDED;this.owner.registerSoundInstance(this.flashId,
this);return true},pause:function(){this.paused=true;return this.flash.pauseSound(this.flashId)},resume:function(){this.paused=false;return this.flash.resumeSound(this.flashId)},stop:function(){this.playState=SoundJS.PLAY_FINISHED;this.paused=false;var a=this.flash.stopSound(this.flashId);this.cleanUp();return a},setVolume:function(a){this.volume=a;return this.flash.setVolume(this.flashId,a)},getVolume:function(){return this.volume},mute:function(a){return(this.muted=a)?this.flash.muteSound(this.flashId):
this.flash.unmuteSound(this.flashId)},getPan:function(){return this.pan},setPan:function(a){this.pan=a;return this.flash.setPan(this.flashId,a)},getPosition:function(){return this.flash.getPosition(this.flashId)},setPosition:function(a){return this.flash.setPosition(this.flashId,a)},getDuration:function(){return this.flash.getDuration(this.flashId)},handleSoundFinished:function(){this.playState=SoundJS.PLAY_FINISHED;if(this.onComplete!=null)this.onComplete(this);this.cleanUp()},handleLoop:function(){if(this.onLoop!=
null)this.onLoop(this)},toString:function(){return"[FlashPlugin SoundInstance]"}};C.prototype={flash:null,src:null,tag:null,flashId:null,progress:-1,readyState:0,loading:false,preloadId:null,owner:null,onload:null,onprogress:null,onError:null,init:function(a,e,c,m){this.src=a;this.flash=e;this.owner=c;this.preloadId=m;this.tag=this},initialize:function(a){this.flash=a;this.loading&&this.load(this.src)},load:function(a){if(a==void 0)a=this.src;return this.flash==null||this.flash.preload==void 0?(this.owner.registerPreloadInstance(this.preloadId,
this),this.loading=true,false):(this.flash.preload(a,this.preloadId),true)},handleProgress:function(a,e){this.progress=a/e;if(this.onprogress!=null)this.onprogress({loaded:a,total:e,progress:this.progress})},handleComplete:function(){this.progress=1;this.readyState=4;if(this.onload!=null)this.onload()},handleError:function(a){if(this.onerror!=null)this.onerror(a)},toString:function(){return"[FlashPlugin SoundLoader]"}}})(window);var swfobject=function(){function m(){if(!x){try{var b=f.getElementsByTagName("body")[0].appendChild(f.createElement("span"));b.parentNode.removeChild(b)}catch(d){return}x=true;for(var b=D.length,i=0;i<b;i++)D[i]()}}function c(b){x?b():D[D.length]=b}function z(b){if(typeof p.addEventListener!=l)p.addEventListener("load",b,false);else if(typeof f.addEventListener!=l)f.addEventListener("load",b,false);else if(typeof p.attachEvent!=l)U(p,"onload",b);else if(typeof p.onload=="function"){var d=p.onload;
p.onload=function(){d();b()}}else p.onload=b}function C(){var b=f.getElementsByTagName("body")[0],d=f.createElement(v);d.setAttribute("type",E);var i=b.appendChild(d);if(i){var r=0;(function(){if(typeof i.GetVariable!=l){var h=i.GetVariable("$version");if(h)h=h.split(" ")[1].split(","),g.pv=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)]}else if(r<10){r++;setTimeout(arguments.callee,10);return}b.removeChild(d);i=null;a()})()}else a()}function a(){var b=t.length;if(b>0)for(var d=0;d<b;d++){var i=
t[d].id,a=t[d].callbackFn,h={success:false,id:i};if(g.pv[0]>0){var f=o(i);if(f)if(F(t[d].swfVersion)&&!(g.wk&&g.wk<312)){if(y(i,true),a)h.success=true,h.ref=e(i),a(h)}else if(t[d].expressInstall&&k()){h={};h.data=t[d].expressInstall;h.width=f.getAttribute("width")||"0";h.height=f.getAttribute("height")||"0";if(f.getAttribute("class"))h.styleclass=f.getAttribute("class");if(f.getAttribute("align"))h.align=f.getAttribute("align");for(var j={},f=f.getElementsByTagName("param"),c=f.length,n=0;n<c;n++)f[n].getAttribute("name").toLowerCase()!=
"movie"&&(j[f[n].getAttribute("name")]=f[n].getAttribute("value"));u(h,j,i,a)}else T(f),a&&a(h)}else if(y(i,true),a){if((i=e(i))&&typeof i.SetVariable!=l)h.success=true,h.ref=i;a(h)}}}function e(b){var d=null;if((b=o(b))&&b.nodeName=="OBJECT")typeof b.SetVariable!=l?d=b:(b=b.getElementsByTagName(v)[0])&&(d=b);return d}function k(){return!G&&F("6.0.65")&&(g.win||g.mac)&&!(g.wk&&g.wk<312)}function u(b,d,i,a){G=true;K=a||null;M={success:false,id:i};var h=o(i);if(h){h.nodeName=="OBJECT"?(B=q(h),H=null):
(B=h,H=i);b.id=N;if(typeof b.width==l||!/%$/.test(b.width)&&parseInt(b.width,10)<310)b.width="310";if(typeof b.height==l||!/%$/.test(b.height)&&parseInt(b.height,10)<137)b.height="137";f.title=f.title.slice(0,47)+" - Flash Player Installation";a=g.ie&&g.win?"ActiveX":"PlugIn";a="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,"%26")+"&MMplayerType="+a+"&MMdoctitle="+f.title;typeof d.flashvars!=l?d.flashvars+="&"+a:d.flashvars=a;if(g.ie&&g.win&&h.readyState!=4)a=f.createElement("div"),
i+="SWFObjectNew",a.setAttribute("id",i),h.parentNode.insertBefore(a,h),h.style.display="none",function(){h.readyState==4?h.parentNode.removeChild(h):setTimeout(arguments.callee,10)}();J(b,d,i)}}function T(b){if(g.ie&&g.win&&b.readyState!=4){var d=f.createElement("div");b.parentNode.insertBefore(d,b);d.parentNode.replaceChild(q(b),d);b.style.display="none";(function(){b.readyState==4?b.parentNode.removeChild(b):setTimeout(arguments.callee,10)})()}else b.parentNode.replaceChild(q(b),b)}function q(b){var d=
f.createElement("div");if(g.win&&g.ie)d.innerHTML=b.innerHTML;else if(b=b.getElementsByTagName(v)[0])if(b=b.childNodes)for(var a=b.length,r=0;r<a;r++)!(b[r].nodeType==1&&b[r].nodeName=="PARAM")&&b[r].nodeType!=8&&d.appendChild(b[r].cloneNode(true));return d}function J(b,d,a){var r,h=o(a);if(g.wk&&g.wk<312)return r;if(h){if(typeof b.id==l)b.id=a;if(g.ie&&g.win){var e="",j;for(j in b)if(b[j]!=Object.prototype[j])j.toLowerCase()=="data"?d.movie=b[j]:j.toLowerCase()=="styleclass"?e+=' class="'+b[j]+'"':
j.toLowerCase()!="classid"&&(e+=" "+j+'="'+b[j]+'"');j="";for(var c in d)d[c]!=Object.prototype[c]&&(j+='<param name="'+c+'" value="'+d[c]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+e+">"+j+"</object>";I[I.length]=b.id;r=o(b.id)}else{c=f.createElement(v);c.setAttribute("type",E);for(var n in b)b[n]!=Object.prototype[n]&&(n.toLowerCase()=="styleclass"?c.setAttribute("class",b[n]):n.toLowerCase()!="classid"&&c.setAttribute(n,b[n]));for(e in d)d[e]!=Object.prototype[e]&&
e.toLowerCase()!="movie"&&(b=c,j=e,n=d[e],a=f.createElement("param"),a.setAttribute("name",j),a.setAttribute("value",n),b.appendChild(a));h.parentNode.replaceChild(c,h);r=c}}return r}function O(b){var d=o(b);if(d&&d.nodeName=="OBJECT")g.ie&&g.win?(d.style.display="none",function(){if(d.readyState==4){var a=o(b);if(a){for(var f in a)typeof a[f]=="function"&&(a[f]=null);a.parentNode.removeChild(a)}}else setTimeout(arguments.callee,10)}()):d.parentNode.removeChild(d)}function o(b){var d=null;try{d=f.getElementById(b)}catch(a){}return d}
function U(b,d,a){b.attachEvent(d,a);A[A.length]=[b,d,a]}function F(b){var d=g.pv,b=b.split(".");b[0]=parseInt(b[0],10);b[1]=parseInt(b[1],10)||0;b[2]=parseInt(b[2],10)||0;return d[0]>b[0]||d[0]==b[0]&&d[1]>b[1]||d[0]==b[0]&&d[1]==b[1]&&d[2]>=b[2]?true:false}function P(b,d,a,c){if(!g.ie||!g.mac){var h=f.getElementsByTagName("head")[0];if(h){a=a&&typeof a=="string"?a:"screen";c&&(L=s=null);if(!s||L!=a)c=f.createElement("style"),c.setAttribute("type","text/css"),c.setAttribute("media",a),s=h.appendChild(c),
g.ie&&g.win&&typeof f.styleSheets!=l&&f.styleSheets.length>0&&(s=f.styleSheets[f.styleSheets.length-1]),L=a;g.ie&&g.win?s&&typeof s.addRule==v&&s.addRule(b,d):s&&typeof f.createTextNode!=l&&s.appendChild(f.createTextNode(b+" {"+d+"}"))}}}function y(b,a){if(Q){var f=a?"visible":"hidden";x&&o(b)?o(b).style.visibility=f:P("#"+b,"visibility:"+f)}}function R(b){return/[\\\"<>\.;]/.exec(b)!=null&&typeof encodeURIComponent!=l?encodeURIComponent(b):b}var l="undefined",v="object",E="application/x-shockwave-flash",
N="SWFObjectExprInst",p=window,f=document,w=navigator,S=false,D=[function(){S?C():a()}],t=[],I=[],A=[],B,H,K,M,x=false,G=false,s,L,Q=true,g=function(){var b=typeof f.getElementById!=l&&typeof f.getElementsByTagName!=l&&typeof f.createElement!=l,a=w.userAgent.toLowerCase(),i=w.platform.toLowerCase(),g=i?/win/.test(i):/win/.test(a),i=i?/mac/.test(i):/mac/.test(a),a=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,h=!+"\u000b1",c=[0,0,0],e=null;if(typeof w.plugins!=l&&
typeof w.plugins["Shockwave Flash"]==v){if((e=w.plugins["Shockwave Flash"].description)&&!(typeof w.mimeTypes!=l&&w.mimeTypes[E]&&!w.mimeTypes[E].enabledPlugin))S=true,h=false,e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),c[0]=parseInt(e.replace(/^(.*)\..*$/,"$1"),10),c[1]=parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),c[2]=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof p.ActiveXObject!=l)try{var k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(k&&(e=k.GetVariable("$version")))h=
true,e=e.split(" ")[1].split(","),c=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}catch(n){}return{w3:b,pv:c,wk:a,ie:h,win:g,mac:i}}();(function(){g.w3&&((typeof f.readyState!=l&&f.readyState=="complete"||typeof f.readyState==l&&(f.getElementsByTagName("body")[0]||f.body))&&m(),x||(typeof f.addEventListener!=l&&f.addEventListener("DOMContentLoaded",m,false),g.ie&&g.win&&(f.attachEvent("onreadystatechange",function(){f.readyState=="complete"&&(f.detachEvent("onreadystatechange",arguments.callee),
m())}),p==top&&function(){if(!x){try{f.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}m()}}()),g.wk&&function(){x||(/loaded|complete/.test(f.readyState)?m():setTimeout(arguments.callee,0))}(),z(m)))})();(function(){g.ie&&g.win&&window.attachEvent("onunload",function(){for(var b=A.length,a=0;a<b;a++)A[a][0].detachEvent(A[a][1],A[a][2]);b=I.length;for(a=0;a<b;a++)O(I[a]);for(var f in g)g[f]=null;g=null;for(var e in swfobject)swfobject[e]=null;swfobject=null})})();return{registerObject:function(b,
a,f,e){if(g.w3&&b&&a){var c={};c.id=b;c.swfVersion=a;c.expressInstall=f;c.callbackFn=e;t[t.length]=c;y(b,false)}else e&&e({success:false,id:b})},getObjectById:function(b){if(g.w3)return e(b)},embedSWF:function(b,a,e,f,h,m,j,p,n,o){var q={success:false,id:a};g.w3&&!(g.wk&&g.wk<312)&&b&&a&&e&&f&&h?(y(a,false),c(function(){e+="";f+="";var c={};if(n&&typeof n===v)for(var g in n)c[g]=n[g];c.data=b;c.width=e;c.height=f;g={};if(p&&typeof p===v)for(var s in p)g[s]=p[s];if(j&&typeof j===v)for(var t in j)typeof g.flashvars!=
l?g.flashvars+="&"+t+"="+j[t]:g.flashvars=t+"="+j[t];if(F(h))s=J(c,g,a),c.id==a&&y(a,true),q.success=true,q.ref=s;else if(m&&k()){c.data=m;u(c,g,a,o);return}else y(a,true);o&&o(q)})):o&&o(q)},switchOffAutoHideShow:function(){Q=false},ua:g,getFlashPlayerVersion:function(){return{major:g.pv[0],minor:g.pv[1],release:g.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(a,d,c){if(g.w3)return J(a,d,c)},showExpressInstall:function(a,d,c,e){g.w3&&k()&&u(a,d,c,e)},removeSWF:function(a){g.w3&&O(a)},createCSS:function(a,
d,c,e){g.w3&&P(a,d,c,e)},addDomLoadEvent:c,addLoadEvent:z,getQueryParamValue:function(a){var d=f.location.search||f.location.hash;if(d){/\?/.test(d)&&(d=d.split("?")[1]);if(a==null)return R(d);for(var d=d.split("&"),c=0;c<d.length;c++)if(d[c].substring(0,d[c].indexOf("="))==a)return R(d[c].substring(d[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(G){var a=o(N);if(a&&B){a.parentNode.replaceChild(B,a);if(H&&(y(H,true),g.ie&&g.win))B.style.display="block";K&&K(M)}G=false}}}}();
